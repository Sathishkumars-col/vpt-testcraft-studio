import{c as g,u as pe,r as o,j as e,G as he,F as me,D as T,f as M,Z as L,R as B}from"./index-CpO6bAzs.js";import{L as ue}from"./layers-N9fiCyL7.js";import{S as C}from"./square-check-big-DSiTRMuA.js";import{S as xe}from"./settings-DpTFM6Nz.js";import{E as F}from"./eye-DT51MMwK.js";import{C as U,P as je}from"./play-qfYjM-Of.js";import{P as J}from"./plus-DO9-gutA.js";import{C as ye}from"./clock-eBCMEeRw.js";const ge=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],G=g("calendar",ge);const fe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ve=g("file-spreadsheet",fe);const be=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Se=g("funnel",be);const Ne=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],H=g("link-2",Ne);const Te=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ce=g("minus",Te);function k(p,n,x="text/csv"){const d=new Blob([p],{type:x}),m=URL.createObjectURL(d),l=document.createElement("a");l.href=m,l.download=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(m)}function v(p,n){const x=m=>{const l=String(m??"");return l.includes(",")||l.includes('"')||l.includes(`
`)?`"${l.replace(/"/g,'""')}"`:l},d=[p.map(x).join(",")];return n.forEach(m=>d.push(p.map(l=>x(m[l]??"")).join(","))),d.join(`
`)}const W=[{id:"excel",name:"Excel / CSV",icon:ve,desc:"Standard spreadsheet with customizable columns"},{id:"jira",name:"Jira",icon:ue,desc:"Import-ready for Jira Test Management"},{id:"azure",name:"Azure DevOps",icon:he,desc:"Compatible with Azure Test Plans"},{id:"testrail",name:"TestRail",icon:me,desc:"TestRail CSV import format"}],ke=[{id:1,name:"CDVR_Scenarios_v2.xlsx",format:"Excel",items:8,date:"2026-02-20 14:30",user:"Sathish S."},{id:2,name:"CDVR_TestCases_Jira.csv",format:"Jira",items:24,date:"2026-02-19 10:15",user:"Sathish S."},{id:3,name:"PauseLive_E2E_v1.xlsx",format:"Excel",items:15,date:"2026-02-18 16:45",user:"Sarah C."}],K={excel:[{field:"Test Case ID",mapped:!0,required:!0},{field:"Title",mapped:!0,required:!0},{field:"Steps",mapped:!0,required:!0},{field:"Expected Result",mapped:!0,required:!0},{field:"Priority",mapped:!0,required:!1},{field:"Category",mapped:!0,required:!1}],jira:[{field:"Summary",mapped:!0,required:!0},{field:"Description",mapped:!0,required:!0},{field:"Issue Type",mapped:!0,required:!0},{field:"Priority",mapped:!0,required:!0},{field:"Component",mapped:!1,required:!0},{field:"Sprint",mapped:!0,required:!1},{field:"Labels",mapped:!1,required:!1},{field:"Fix Version",mapped:!1,required:!1}],azure:[{field:"Title",mapped:!0,required:!0},{field:"Steps",mapped:!0,required:!0},{field:"Area Path",mapped:!1,required:!0},{field:"Iteration",mapped:!0,required:!1},{field:"Priority",mapped:!0,required:!1},{field:"State",mapped:!0,required:!1}],testrail:[{field:"Title",mapped:!0,required:!0},{field:"Section",mapped:!0,required:!0},{field:"Steps",mapped:!0,required:!0},{field:"Expected",mapped:!0,required:!0},{field:"Priority",mapped:!0,required:!1},{field:"Type",mapped:!0,required:!1}]},j={added:["TC-005: Cross-device sync timeout","TC-006: Parental control bypass attempt","SC-009: Storage quota edge case"],removed:["TC-OLD-003: Deprecated storage test"],updated:["TC-001: Updated assertions for new UI","SC-003: Added conflict priority step"]},we=[{id:1,trigger:"Every Sprint End",format:"Jira",active:!0,lastRun:"2026-02-14"},{id:2,trigger:"Coverage < 70%",format:"Excel",active:!1,lastRun:"Never"}],Q=[{id:"scenarios",label:"Test Scenarios",count:8},{id:"testcases",label:"Test Cases",count:24},{id:"traceability",label:"Traceability Matrix",count:1},{id:"requirements",label:"Requirements",count:6},{id:"coverage",label:"Coverage Report",count:1}];function Ve(){const p=pe(),[n,x]=o.useState("excel"),[d,m]=o.useState(["scenarios","testcases","traceability"]),[l,w]=o.useState(!1),[b,X]=o.useState(!1),[D,Z]=o.useState(!1),[Y,E]=o.useState(we),[P,R]=o.useState(!1),[f,ee]=o.useState(!1),[y,se]=o.useState("jira"),[q,$]=o.useState(!1),[u,te]=o.useState("playwright"),ie=s=>m(t=>t.includes(s)?t.filter(r=>r!==s):[...t,s]),ae=s=>E(t=>t.map(r=>r.id===s?{...r,active:!r.active}:r)),z=K[n]||K.excel,I=z.filter(s=>!s.mapped&&s.required),re=(()=>{const t=JSON.parse(localStorage.getItem("vpt-docs")||"[]").filter(r=>r.status==="parsed").flatMap(r=>r.aiRequirements||[]);return t.length>0?t.length*d.length:Q.reduce((r,a)=>r+a.count,0)})(),S=o.useCallback(()=>{const t=JSON.parse(localStorage.getItem("vpt-docs")||"[]").filter(i=>i.status==="parsed"),r=JSON.parse(localStorage.getItem("vpt-project-summary")||"null"),a=t.flatMap(i=>i.aiRequirements||[]),c=[];if(d.includes("requirements")&&a.forEach((i,h)=>{c.push({ID:i.id||`REQ-${String(h+1).padStart(3,"0")}`,Type:"Requirement",Title:i.title||"",Description:i.description||"",Risk:i.risk||"medium",Priority:i.risk==="high"?"P1":i.risk==="medium"?"P2":"P3","Source Document":i.sourceDoc||"",Status:"Extracted",Category:"Requirement"})}),d.includes("scenarios")&&a.forEach((i,h)=>{c.push({ID:`SC-${String(h+1).padStart(3,"0")}`,Type:"Scenario",Title:`Verify: ${i.title||"Untitled"}`,Description:`Test scenario for ${i.title||"requirement"}: ${i.description||""}`,Risk:i.risk||"medium",Priority:i.risk==="high"?"P1":i.risk==="medium"?"P2":"P3","Source Document":i.sourceDoc||"",Status:"Generated",Category:"Scenario"})}),d.includes("testcases")&&a.forEach((i,h)=>{c.push({ID:`TC-${String(h+1).padStart(3,"0")}`,Type:"Test Case",Title:`Validate ${i.title||"Untitled"}`,Description:`Given the system is ready, When ${i.title||"action"} is performed, Then expected behavior is verified`,Risk:i.risk||"medium",Priority:i.risk==="high"?"P1":i.risk==="medium"?"P2":"P3","Source Document":i.sourceDoc||"",Status:"Draft",Category:"Test Case"})}),d.includes("traceability")&&a.forEach((i,h)=>{c.push({ID:`TM-${String(h+1).padStart(3,"0")}`,Type:"Traceability",Title:`${i.id||`REQ-${h+1}`} → SC-${String(h+1).padStart(3,"0")} → TC-${String(h+1).padStart(3,"0")}`,Description:"Requirement mapped to scenario and test case",Risk:i.risk||"medium",Priority:"","Source Document":i.sourceDoc||"",Status:"Mapped",Category:"Traceability"})}),d.includes("coverage")){const i=t.length>0?Math.round(t.reduce((h,oe)=>h+(oe.testability||0),0)/t.length):0;c.push({ID:"COV-001",Type:"Coverage Report",Title:`Overall Coverage: ${i}%`,Description:`${t.length} documents parsed, ${a.length} requirements extracted, avg testability ${i}%`,Risk:i<60?"high":i<80?"medium":"low",Priority:"","Source Document":"All Documents",Status:"Current",Category:"Coverage"})}return c.length===0&&c.push({ID:"TC-001",Type:"Test Case",Title:"Sample — upload documents in Document Hub for real data",Description:"",Risk:"",Priority:"","Source Document":"",Status:"Sample",Category:""}),{rows:c,docs:t,projectSummary:r,allRequirements:a}},[d]),V=s=>v(["ID","Type","Title","Description","Priority","Risk","Status","Category","Source Document"],s),A=s=>{const t=s.map(a=>({Summary:a.Title,Description:a.Description,"Issue Type":a.Type==="Test Case"?"Test":a.Type==="Scenario"?"Story":"Task",Priority:a.Priority||"Medium",Labels:a.Category,Component:""}));return v(["Summary","Description","Issue Type","Priority","Labels","Component"],t)},_=s=>{const t=s.map(a=>({Title:a.Title,"Work Item Type":a.Type==="Test Case"?"Test Case":"User Story",Description:a.Description,Priority:a.Priority==="P1"?"1":a.Priority==="P2"?"2":"3",State:a.Status==="Draft"?"Design":"Ready","Area Path":"",Iteration:""}));return v(["Title","Work Item Type","Description","Priority","State","Area Path","Iteration"],t)},O=s=>{const t=s.map(a=>({Title:a.Title,Section:a.Category||"General",Steps:a.Description,Expected:"Verify expected behavior",Priority:a.Priority||"Medium",Type:a.Type}));return v(["Title","Section","Steps","Expected","Priority","Type"],t)},ce=()=>{const{rows:s}=S(),t=document.querySelector('.template-settings input[type="text"]')?.value||"v1.0",r=new Date().toISOString().split("T")[0];let a,c;switch(n){case"jira":a=A(s),c=`VPT_Jira_Import_${t}_${r}.csv`;break;case"azure":a=_(s),c=`VPT_AzureDevOps_${t}_${r}.csv`;break;case"testrail":a=O(s),c=`VPT_TestRail_${t}_${r}.csv`;break;default:a=V(s),c=`VPT_Export_${t}_${r}.csv`}k(a,c,"text/csv;charset=utf-8;"),p.success(`Downloaded ${c} (${s.length} items)`);const i=JSON.parse(localStorage.getItem("vpt-export-history")||"[]");i.unshift({id:Date.now(),name:c,format:n.charAt(0).toUpperCase()+n.slice(1),items:s.length,date:new Date().toLocaleString(),user:JSON.parse(localStorage.getItem("vpt-user")||"{}").name||"User"}),localStorage.setItem("vpt-export-history",JSON.stringify(i.slice(0,20))),de(i.slice(0,20))},ne=()=>{const{allRequirements:s}=S();let t="";const r=u==="playwright"?"spec.ts":u==="cypress"?"cy.js":"test.js";s.length===0?t=document.querySelector(".script-code")?.textContent||"// No test data available":u==="playwright"?(t=`import { test, expect } from '@playwright/test';

`,s.forEach((c,i)=>{t+=`test('${(c.title||`Test ${i+1}`).replace(/'/g,"\\'")}', async ({ page }) => {
`,t+=`  // ${c.description||"Verify requirement"}
`,t+=`  // TODO: Implement test steps
`,t+=`  await page.goto('/');
`,t+=`  // Add assertions here
`,t+=`});

`})):u==="cypress"?(t=`describe('VPT Generated Tests', () => {
`,s.forEach((c,i)=>{t+=`  it('${(c.title||`Test ${i+1}`).replace(/'/g,"\\'")}', () => {
`,t+=`    // ${c.description||"Verify requirement"}
`,t+=`    cy.visit('/');
`,t+=`    // TODO: Add test steps
`,t+=`  });

`}),t+=`});
`):(t=`import { Builder, By } from 'selenium-webdriver';

`,t+=`describe('VPT Generated Tests', () => {
`,s.forEach((c,i)=>{t+=`  it('${(c.title||`Test ${i+1}`).replace(/'/g,"\\'")}', async () => {
`,t+=`    // ${c.description||"Verify requirement"}
`,t+=`    const driver = await new Builder().forBrowser('chrome').build();
`,t+=`    await driver.get('/');
`,t+=`    // TODO: Add test steps
`,t+=`    await driver.quit();
`,t+=`  });

`}),t+=`});
`);const a=`vpt_tests.${r}`;k(t,a,"text/plain;charset=utf-8;"),p.success(`Downloaded ${a}`)},le=s=>{const{rows:t}=S(),r=n==="jira"?A(t):n==="azure"?_(t):n==="testrail"?O(t):V(t);k(r,s.name,"text/csv;charset=utf-8;"),p.success(`Re-downloaded ${s.name}`)},[N,de]=o.useState(()=>{const s=JSON.parse(localStorage.getItem("vpt-export-history")||"[]");return s.length>0?s:ke});return e.jsxs("div",{className:"export-engine",children:[e.jsxs("section",{className:"grid-3",style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{className:"card stat-card",children:[e.jsx("div",{className:"stat-value animate-count",children:re}),e.jsx("div",{className:"stat-label",children:"Exportable Items"})]}),e.jsxs("div",{className:"card stat-card",children:[e.jsx("div",{className:"stat-value animate-count",style:{color:"var(--success)"},children:N.length}),e.jsx("div",{className:"stat-label",children:"Recent Exports"})]}),e.jsxs("div",{className:"card stat-card",children:[e.jsx("div",{className:"stat-value animate-count",style:{color:"var(--info)"},children:W.length}),e.jsx("div",{className:"stat-label",children:"Supported Formats"})]})]}),e.jsxs("div",{className:"export-layout",children:[e.jsxs("section",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Export Format"})}),e.jsx("div",{className:"format-grid",role:"radiogroup",children:W.map(s=>{const t=s.icon;return e.jsxs("div",{className:`format-card ${n===s.id?"selected":""}`,onClick:()=>x(s.id),role:"radio","aria-checked":n===s.id,tabIndex:0,children:[e.jsx(t,{size:24}),e.jsx("h4",{children:s.name}),e.jsx("p",{children:s.desc})]},s.id)})})]}),e.jsxs("section",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Content Selection"}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>p.info("Filter options: By priority (P1-P3), By category (E2E, UI, API), By status (Draft, Review, Approved)"),children:[e.jsx(Se,{size:14})," Filters"]})]}),e.jsx("div",{className:"content-checklist",role:"group",children:Q.map(s=>e.jsxs("label",{className:"check-item",children:[e.jsx("input",{type:"checkbox",checked:d.includes(s.id),onChange:()=>ie(s.id)}),e.jsx(C,{size:16,className:d.includes(s.id)?"checked":"","aria-hidden":"true"}),e.jsx("span",{className:"check-label",children:s.label}),e.jsx("span",{className:"badge badge-accent",children:s.count})]},s.id))})]}),e.jsxs("section",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(xe,{size:16})," Template Settings"]})}),e.jsxs("div",{className:"template-settings",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Template"}),e.jsxs("select",{children:[e.jsx("option",{children:"VPT Standard"}),e.jsx("option",{children:"Minimal"}),e.jsx("option",{children:"Detailed with Steps"})]})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Group By"}),e.jsxs("select",{children:[e.jsx("option",{children:"Category"}),e.jsx("option",{children:"Priority"}),e.jsx("option",{children:"Requirement"})]})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Version Tag"}),e.jsx("input",{type:"text",defaultValue:"v2.0"})]}),e.jsxs("label",{className:"check-item",style:{marginTop:"0.5rem"},children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx(C,{size:16,className:"checked"}),e.jsx("span",{className:"check-label",children:"Include change tracking"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem",flexWrap:"wrap"},children:[e.jsxs("button",{className:"btn btn-lg btn-primary",style:{flex:1,justifyContent:"center"},onClick:ce,children:[e.jsx(T,{size:18})," Export Now"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>w(!l),children:[e.jsx(F,{size:18})," Preview"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>Z(!D),children:[e.jsx(G,{size:18})," Schedule"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>R(!P),children:[e.jsx(H,{size:18})," Live Sync"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>$(!q),children:[e.jsx(U,{size:18})," Script"]})]})]})]}),l&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(F,{size:16})," Export Preview — ",n.toUpperCase()]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>w(!1),children:"Close"})]}),e.jsxs("div",{className:"preview-fields",children:[e.jsxs("h4",{children:["Field Mapping Status for ",n.charAt(0).toUpperCase()+n.slice(1)]}),e.jsx("div",{className:"field-grid",children:z.map(s=>e.jsxs("div",{className:`field-item ${!s.mapped&&s.required?"field-missing":""}`,children:[e.jsx("span",{className:"field-name",children:s.field}),e.jsxs("div",{className:"field-status",children:[s.mapped?e.jsx(C,{size:14,className:"text-success"}):e.jsx(M,{size:14,className:"text-danger"}),e.jsx("span",{children:s.mapped?"Mapped":"Missing"})]}),s.required&&e.jsx("span",{className:"badge badge-danger",style:{fontSize:"0.6rem"},children:"Required"})]},s.field))}),I.length>0&&e.jsxs("div",{className:"preview-warning",children:[e.jsx(M,{size:14})," ",I.length," required field(s) not mapped. Export may fail on import."]})]}),e.jsxs("div",{className:"preview-table",children:[e.jsx("h4",{children:"Sample Output (first 3 rows)"}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Status"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"TC-001"}),e.jsx("td",{children:"Verify CDVR recording from guide"}),e.jsx("td",{children:"E2E"}),e.jsx("td",{children:"P1"}),e.jsx("td",{children:"Approved"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TC-002"}),e.jsx("td",{children:"Verify CDVR playback after completion"}),e.jsx("td",{children:"E2E"}),e.jsx("td",{children:"P1"}),e.jsx("td",{children:"Review"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TC-003"}),e.jsx("td",{children:"Verify storage full error handling"}),e.jsx("td",{children:"E2E"}),e.jsx("td",{children:"P1"}),e.jsx("td",{children:"Draft"})]})]})]})]})]}),D&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(G,{size:16})," Scheduled Exports"]}),e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>{E(s=>[...s,{id:s.length+1,trigger:"New Schedule",format:n.charAt(0).toUpperCase()+n.slice(1),active:!0,lastRun:"Never"}])},children:[e.jsx(J,{size:14})," Add Schedule"]})]}),e.jsx("div",{className:"schedule-list",children:Y.map(s=>e.jsxs("div",{className:"schedule-item",children:[e.jsxs("div",{className:"schedule-info",children:[e.jsxs("span",{className:"schedule-trigger",children:[e.jsx(L,{size:14})," ",s.trigger]}),e.jsx("span",{className:"badge badge-accent",children:s.format}),e.jsxs("span",{className:"schedule-last",children:["Last: ",s.lastRun]})]}),e.jsxs("label",{className:"schedule-toggle",children:[e.jsx("input",{type:"checkbox",checked:s.active,onChange:()=>ae(s.id)}),e.jsx("span",{className:`toggle-pill ${s.active?"active":""}`,children:s.active?"Active":"Paused"})]})]},s.id))})]}),e.jsxs("section",{className:"card",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(B,{size:16})," Version Diff (v1.0 → v2.0)"]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>X(!b),children:[b?"Hide":"Show"," Changes"]})]}),b&&e.jsxs("div",{className:"export-diff animate-in",children:[e.jsxs("div",{className:"diff-section added-section",children:[e.jsxs("h5",{children:[e.jsx(J,{size:14})," Added (",j.added.length,")"]}),j.added.map((s,t)=>e.jsx("div",{className:"diff-entry added",children:s},t))]}),e.jsxs("div",{className:"diff-section removed-section",children:[e.jsxs("h5",{children:[e.jsx(Ce,{size:14})," Removed (",j.removed.length,")"]}),j.removed.map((s,t)=>e.jsx("div",{className:"diff-entry removed",children:s},t))]}),e.jsxs("div",{className:"diff-section updated-section",children:[e.jsxs("h5",{children:[e.jsx(B,{size:14})," Updated (",j.updated.length,")"]}),j.updated.map((s,t)=>e.jsx("div",{className:"diff-entry updated",children:s},t))]})]})]}),e.jsxs("section",{className:"card",style:{marginTop:"1.5rem"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(ye,{size:16})," Export History"]})}),e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"File Name"}),e.jsx("th",{children:"Format"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"By"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{children:[N.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-accent",children:s.format})}),e.jsx("td",{children:s.items}),e.jsx("td",{children:s.date}),e.jsx("td",{children:s.user}),e.jsx("td",{children:e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>le(s),children:[e.jsx(T,{size:14})," Re-download"]})})]},s.id)),N.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--text-muted)",padding:"1.5rem"},children:'No exports yet — click "Export Now" to create your first export'})})]})]})})]}),P&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(H,{size:16})," Live Sync / Webhooks"]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>R(!1),children:"Close"})]}),e.jsxs("p",{className:"live-sync-desc",children:["Enable bi-directional sync — when a test case is updated here, it auto-updates the linked ticket in your tool (and vice-versa). ",e.jsx("em",{style:{color:"var(--text-muted)",fontSize:"0.75rem"},children:"(Requires AWS backend — configure connection settings below for future activation)"})]}),e.jsxs("div",{className:"live-sync-config",children:[e.jsx("div",{className:"sync-target-selector",children:["jira","azure","webhook"].map(s=>e.jsx("button",{className:`sync-target-btn ${y===s?"active":""}`,onClick:()=>se(s),children:s==="jira"?"Jira":s==="azure"?"Azure DevOps":"Custom Webhook"},s))}),y==="jira"&&e.jsxs("div",{className:"sync-fields",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Jira Base URL"}),e.jsx("input",{type:"text",defaultValue:"https://jira.charter.com/",readOnly:!0})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Project Key"}),e.jsx("input",{type:"text",placeholder:"STVA"})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Sync Direction"}),e.jsxs("select",{children:[e.jsx("option",{children:"Bi-directional"}),e.jsx("option",{children:"Push only (VPT → Jira)"}),e.jsx("option",{children:"Pull only (Jira → VPT)"})]})]})]}),y==="azure"&&e.jsxs("div",{className:"sync-fields",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Azure DevOps URL"}),e.jsx("input",{type:"text",placeholder:"https://dev.azure.com/org/project"})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"PAT Token"}),e.jsx("input",{type:"password",placeholder:"Personal Access Token"})]})]}),y==="webhook"&&e.jsxs("div",{className:"sync-fields",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Webhook URL"}),e.jsx("input",{type:"text",placeholder:"https://your-server.com/webhook"})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Secret Key"}),e.jsx("input",{type:"password",placeholder:"Optional signing secret"})]})]}),e.jsxs("div",{className:"sync-toggle-row",children:[e.jsxs("label",{className:"schedule-toggle",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:()=>ee(!f)}),e.jsx("span",{className:`toggle-pill ${f?"active":""}`,children:f?"Sync Active":"Sync Paused"})]}),e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>p.success(`Testing connection to ${y}... Connection successful!`),children:[e.jsx(L,{size:12})," Test Connection"]})]})]})]}),q&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(U,{size:16})," Automated Script Export"]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>$(!1),children:"Close"})]}),e.jsx("p",{className:"script-export-desc",children:"Generate automation code from your Given-When-Then test cases."}),e.jsx("div",{className:"script-framework-selector",children:["playwright","selenium","cypress"].map(s=>e.jsx("button",{className:`framework-btn ${u===s?"active":""}`,onClick:()=>te(s),children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsxs("div",{className:"script-preview",children:[e.jsxs("div",{className:"script-header",children:[e.jsx("span",{className:"badge badge-accent",children:u}),e.jsx("span",{className:"badge badge-info",children:"TypeScript"})]}),e.jsx("pre",{className:"script-code",children:u==="playwright"?`import { test, expect } from '@playwright/test';

test('Verify CDVR recording from guide', async ({ page }) => {
  await page.goto('/guide');
  await page.click('[data-program-id=future-1]');
  await page.click('#record-btn');
  await expect(page.locator('.recording-icon')).toBeVisible();
  await expect(page.locator('#dvr-list')).toContainText('Future event');
});`:u==="selenium"?`import { Builder, By, until } from 'selenium-webdriver';

describe('CDVR Recording', () => {
  it('should record from program guide', async () => {
    const driver = await new Builder().forBrowser('chrome').build();
    await driver.get('/guide');
    await driver.findElement(By.css('[data-program-id=future-1]')).click();
    await driver.findElement(By.id('record-btn')).click();
    const icon = await driver.findElement(By.css('.recording-icon'));
    expect(await icon.isDisplayed()).toBe(true);
  });
});`:`describe('CDVR Recording', () => {
  it('should record from program guide', () => {
    cy.visit('/guide');
    cy.get('[data-program-id=future-1]').click();
    cy.get('#record-btn').click();
    cy.get('.recording-icon').should('be.visible');
    cy.get('#dvr-list').should('contain', 'Future event');
  });
});`}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:ne,children:[e.jsx(T,{size:12})," Download All Scripts"]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>{const s=document.querySelector(".script-code");s&&navigator.clipboard.writeText(s.textContent).then(()=>p.success("Copied to clipboard!")).catch(()=>p.error("Copy failed — please select and copy manually"))},children:[e.jsx(je,{size:12})," Copy to Clipboard"]})]})]})]})]})}export{Ve as default};
