import{c as o,u as K,r as i,j as e,G as X,F as Z,D as x,f as w,Z as T,R as E}from"./index-DOv-VC2m.js";import{L as Y}from"./layers-D-RSdqgz.js";import{S as u}from"./square-check-big-CvxN2Bvx.js";import{S as Q}from"./settings-DnVymYJA.js";import{E as z}from"./eye-CQmJmb7b.js";import{C as q,P as ee}from"./play-DxOJCgxC.js";import{P as R}from"./plus-bGae22dd.js";import{C as se}from"./clock-CAPsyJUM.js";const ae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],P=o("calendar",ae);const ie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],te=o("file-spreadsheet",ie);const re=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ce=o("funnel",re);const de=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],A=o("link-2",de);const le=[["path",{d:"M5 12h14",key:"1ays0h"}]],ne=o("minus",le),D=[{id:"excel",name:"Excel / CSV",icon:te,desc:"Standard spreadsheet with customizable columns"},{id:"jira",name:"Jira",icon:Y,desc:"Import-ready for Jira Test Management"},{id:"azure",name:"Azure DevOps",icon:X,desc:"Compatible with Azure Test Plans"},{id:"testrail",name:"TestRail",icon:Z,desc:"TestRail CSV import format"}],V=[{id:1,name:"CDVR_Scenarios_v2.xlsx",format:"Excel",items:8,date:"2026-02-20 14:30",user:"Sathish S."},{id:2,name:"CDVR_TestCases_Jira.csv",format:"Jira",items:24,date:"2026-02-19 10:15",user:"Sathish S."},{id:3,name:"PauseLive_E2E_v1.xlsx",format:"Excel",items:15,date:"2026-02-18 16:45",user:"Sarah C."}],F={excel:[{field:"Test Case ID",mapped:!0,required:!0},{field:"Title",mapped:!0,required:!0},{field:"Steps",mapped:!0,required:!0},{field:"Expected Result",mapped:!0,required:!0},{field:"Priority",mapped:!0,required:!1},{field:"Category",mapped:!0,required:!1}],jira:[{field:"Summary",mapped:!0,required:!0},{field:"Description",mapped:!0,required:!0},{field:"Issue Type",mapped:!0,required:!0},{field:"Priority",mapped:!0,required:!0},{field:"Component",mapped:!1,required:!0},{field:"Sprint",mapped:!0,required:!1},{field:"Labels",mapped:!1,required:!1},{field:"Fix Version",mapped:!1,required:!1}],azure:[{field:"Title",mapped:!0,required:!0},{field:"Steps",mapped:!0,required:!0},{field:"Area Path",mapped:!1,required:!0},{field:"Iteration",mapped:!0,required:!1},{field:"Priority",mapped:!0,required:!1},{field:"State",mapped:!0,required:!1}],testrail:[{field:"Title",mapped:!0,required:!0},{field:"Section",mapped:!0,required:!0},{field:"Steps",mapped:!0,required:!0},{field:"Expected",mapped:!0,required:!0},{field:"Priority",mapped:!0,required:!1},{field:"Type",mapped:!0,required:!1}]},d={added:["TC-005: Cross-device sync timeout","TC-006: Parental control bypass attempt","SC-009: Storage quota edge case"],removed:["TC-OLD-003: Deprecated storage test"],updated:["TC-001: Updated assertions for new UI","SC-003: Added conflict priority step"]},oe=[{id:1,trigger:"Every Sprint End",format:"Jira",active:!0,lastRun:"2026-02-14"},{id:2,trigger:"Coverage < 70%",format:"Excel",active:!1,lastRun:"Never"}],I=[{id:"scenarios",label:"Test Scenarios",count:8},{id:"testcases",label:"Test Cases",count:24},{id:"traceability",label:"Traceability Matrix",count:1},{id:"requirements",label:"Requirements",count:6},{id:"coverage",label:"Coverage Report",count:1}];function ve(){const r=K(),[t,M]=i.useState("excel"),[m,_]=i.useState(["scenarios","testcases","traceability"]),[j,y]=i.useState(!1),[p,L]=i.useState(!1),[g,B]=i.useState(!1),[$,v]=i.useState(oe),[b,f]=i.useState(!1),[h,U]=i.useState(!1),[l,O]=i.useState("jira"),[N,S]=i.useState(!1),[n,J]=i.useState("playwright"),H=s=>_(a=>a.includes(s)?a.filter(c=>c!==s):[...a,s]),G=s=>v(a=>a.map(c=>c.id===s?{...c,active:!c.active}:c)),C=F[t]||F.excel,k=C.filter(s=>!s.mapped&&s.required),W=I.reduce((s,a)=>s+a.count,0);return e.jsxs("div",{className:"export-engine",children:[e.jsxs("section",{className:"grid-3",style:{marginBottom:"1.5rem"},children:[e.jsxs("div",{className:"card stat-card",children:[e.jsx("div",{className:"stat-value animate-count",children:W}),e.jsx("div",{className:"stat-label",children:"Exportable Items"})]}),e.jsxs("div",{className:"card stat-card",children:[e.jsx("div",{className:"stat-value animate-count",style:{color:"var(--success)"},children:V.length}),e.jsx("div",{className:"stat-label",children:"Recent Exports"})]}),e.jsxs("div",{className:"card stat-card",children:[e.jsx("div",{className:"stat-value animate-count",style:{color:"var(--info)"},children:D.length}),e.jsx("div",{className:"stat-label",children:"Supported Formats"})]})]}),e.jsxs("div",{className:"export-layout",children:[e.jsxs("section",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Export Format"})}),e.jsx("div",{className:"format-grid",role:"radiogroup",children:D.map(s=>{const a=s.icon;return e.jsxs("div",{className:`format-card ${t===s.id?"selected":""}`,onClick:()=>M(s.id),role:"radio","aria-checked":t===s.id,tabIndex:0,children:[e.jsx(a,{size:24}),e.jsx("h4",{children:s.name}),e.jsx("p",{children:s.desc})]},s.id)})})]}),e.jsxs("section",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",children:"Content Selection"}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>r.info("Filter options: By priority (P1-P3), By category (E2E, UI, API), By status (Draft, Review, Approved)"),children:[e.jsx(ce,{size:14})," Filters"]})]}),e.jsx("div",{className:"content-checklist",role:"group",children:I.map(s=>e.jsxs("label",{className:"check-item",children:[e.jsx("input",{type:"checkbox",checked:m.includes(s.id),onChange:()=>H(s.id)}),e.jsx(u,{size:16,className:m.includes(s.id)?"checked":"","aria-hidden":"true"}),e.jsx("span",{className:"check-label",children:s.label}),e.jsx("span",{className:"badge badge-accent",children:s.count})]},s.id))})]}),e.jsxs("section",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(Q,{size:16})," Template Settings"]})}),e.jsxs("div",{className:"template-settings",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Template"}),e.jsxs("select",{children:[e.jsx("option",{children:"VPT Standard"}),e.jsx("option",{children:"Minimal"}),e.jsx("option",{children:"Detailed with Steps"})]})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Group By"}),e.jsxs("select",{children:[e.jsx("option",{children:"Category"}),e.jsx("option",{children:"Priority"}),e.jsx("option",{children:"Requirement"})]})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Version Tag"}),e.jsx("input",{type:"text",defaultValue:"v2.0"})]}),e.jsxs("label",{className:"check-item",style:{marginTop:"0.5rem"},children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx(u,{size:16,className:"checked"}),e.jsx("span",{className:"check-label",children:"Include change tracking"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem",flexWrap:"wrap"},children:[e.jsxs("button",{className:"btn btn-lg btn-primary",style:{flex:1,justifyContent:"center"},onClick:()=>r.success(`Exporting ${m.length} item(s) in ${t.toUpperCase()} format...`),children:[e.jsx(x,{size:18})," Export Now"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>y(!j),children:[e.jsx(z,{size:18})," Preview"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>B(!g),children:[e.jsx(P,{size:18})," Schedule"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>f(!b),children:[e.jsx(A,{size:18})," Live Sync"]}),e.jsxs("button",{className:"btn btn-lg btn-secondary",onClick:()=>S(!N),children:[e.jsx(q,{size:18})," Script"]})]})]})]}),j&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(z,{size:16})," Export Preview — ",t.toUpperCase()]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>y(!1),children:"Close"})]}),e.jsxs("div",{className:"preview-fields",children:[e.jsxs("h4",{children:["Field Mapping Status for ",t.charAt(0).toUpperCase()+t.slice(1)]}),e.jsx("div",{className:"field-grid",children:C.map(s=>e.jsxs("div",{className:`field-item ${!s.mapped&&s.required?"field-missing":""}`,children:[e.jsx("span",{className:"field-name",children:s.field}),e.jsxs("div",{className:"field-status",children:[s.mapped?e.jsx(u,{size:14,className:"text-success"}):e.jsx(w,{size:14,className:"text-danger"}),e.jsx("span",{children:s.mapped?"Mapped":"Missing"})]}),s.required&&e.jsx("span",{className:"badge badge-danger",style:{fontSize:"0.6rem"},children:"Required"})]},s.field))}),k.length>0&&e.jsxs("div",{className:"preview-warning",children:[e.jsx(w,{size:14})," ",k.length," required field(s) not mapped. Export may fail on import."]})]}),e.jsxs("div",{className:"preview-table",children:[e.jsx("h4",{children:"Sample Output (first 3 rows)"}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Status"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"TC-001"}),e.jsx("td",{children:"Verify CDVR recording from guide"}),e.jsx("td",{children:"E2E"}),e.jsx("td",{children:"P1"}),e.jsx("td",{children:"Approved"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TC-002"}),e.jsx("td",{children:"Verify CDVR playback after completion"}),e.jsx("td",{children:"E2E"}),e.jsx("td",{children:"P1"}),e.jsx("td",{children:"Review"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"TC-003"}),e.jsx("td",{children:"Verify storage full error handling"}),e.jsx("td",{children:"E2E"}),e.jsx("td",{children:"P1"}),e.jsx("td",{children:"Draft"})]})]})]})]})]}),g&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(P,{size:16})," Scheduled Exports"]}),e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>{v(s=>[...s,{id:s.length+1,trigger:"New Schedule",format:t.charAt(0).toUpperCase()+t.slice(1),active:!0,lastRun:"Never"}])},children:[e.jsx(R,{size:14})," Add Schedule"]})]}),e.jsx("div",{className:"schedule-list",children:$.map(s=>e.jsxs("div",{className:"schedule-item",children:[e.jsxs("div",{className:"schedule-info",children:[e.jsxs("span",{className:"schedule-trigger",children:[e.jsx(T,{size:14})," ",s.trigger]}),e.jsx("span",{className:"badge badge-accent",children:s.format}),e.jsxs("span",{className:"schedule-last",children:["Last: ",s.lastRun]})]}),e.jsxs("label",{className:"schedule-toggle",children:[e.jsx("input",{type:"checkbox",checked:s.active,onChange:()=>G(s.id)}),e.jsx("span",{className:`toggle-pill ${s.active?"active":""}`,children:s.active?"Active":"Paused"})]})]},s.id))})]}),e.jsxs("section",{className:"card",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(E,{size:16})," Version Diff (v1.0 → v2.0)"]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>L(!p),children:[p?"Hide":"Show"," Changes"]})]}),p&&e.jsxs("div",{className:"export-diff animate-in",children:[e.jsxs("div",{className:"diff-section added-section",children:[e.jsxs("h5",{children:[e.jsx(R,{size:14})," Added (",d.added.length,")"]}),d.added.map((s,a)=>e.jsx("div",{className:"diff-entry added",children:s},a))]}),e.jsxs("div",{className:"diff-section removed-section",children:[e.jsxs("h5",{children:[e.jsx(ne,{size:14})," Removed (",d.removed.length,")"]}),d.removed.map((s,a)=>e.jsx("div",{className:"diff-entry removed",children:s},a))]}),e.jsxs("div",{className:"diff-section updated-section",children:[e.jsxs("h5",{children:[e.jsx(E,{size:14})," Updated (",d.updated.length,")"]}),d.updated.map((s,a)=>e.jsx("div",{className:"diff-entry updated",children:s},a))]})]})]}),e.jsxs("section",{className:"card",style:{marginTop:"1.5rem"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(se,{size:16})," Export History"]})}),e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"File Name"}),e.jsx("th",{children:"Format"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"By"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:V.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-accent",children:s.format})}),e.jsx("td",{children:s.items}),e.jsx("td",{children:s.date}),e.jsx("td",{children:s.user}),e.jsx("td",{children:e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>r.success(`Re-downloading ${s.name}...`),children:[e.jsx(x,{size:14})," Re-download"]})})]},s.id))})]})})]}),b&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(A,{size:16})," Live Sync / Webhooks"]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>f(!1),children:"Close"})]}),e.jsx("p",{className:"live-sync-desc",children:"Enable bi-directional sync — when a test case is updated here, it auto-updates the linked ticket in your tool (and vice-versa)."}),e.jsxs("div",{className:"live-sync-config",children:[e.jsx("div",{className:"sync-target-selector",children:["jira","azure","webhook"].map(s=>e.jsx("button",{className:`sync-target-btn ${l===s?"active":""}`,onClick:()=>O(s),children:s==="jira"?"Jira":s==="azure"?"Azure DevOps":"Custom Webhook"},s))}),l==="jira"&&e.jsxs("div",{className:"sync-fields",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Jira Base URL"}),e.jsx("input",{type:"text",defaultValue:"https://jira.charter.com/",readOnly:!0})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Project Key"}),e.jsx("input",{type:"text",placeholder:"STVA"})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Sync Direction"}),e.jsxs("select",{children:[e.jsx("option",{children:"Bi-directional"}),e.jsx("option",{children:"Push only (VPT → Jira)"}),e.jsx("option",{children:"Pull only (Jira → VPT)"})]})]})]}),l==="azure"&&e.jsxs("div",{className:"sync-fields",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Azure DevOps URL"}),e.jsx("input",{type:"text",placeholder:"https://dev.azure.com/org/project"})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"PAT Token"}),e.jsx("input",{type:"password",placeholder:"Personal Access Token"})]})]}),l==="webhook"&&e.jsxs("div",{className:"sync-fields",children:[e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Webhook URL"}),e.jsx("input",{type:"text",placeholder:"https://your-server.com/webhook"})]}),e.jsxs("div",{className:"setting-row",children:[e.jsx("label",{children:"Secret Key"}),e.jsx("input",{type:"password",placeholder:"Optional signing secret"})]})]}),e.jsxs("div",{className:"sync-toggle-row",children:[e.jsxs("label",{className:"schedule-toggle",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:()=>U(!h)}),e.jsx("span",{className:`toggle-pill ${h?"active":""}`,children:h?"Sync Active":"Sync Paused"})]}),e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>r.success(`Testing connection to ${l}... Connection successful!`),children:[e.jsx(T,{size:12})," Test Connection"]})]})]})]}),N&&e.jsxs("section",{className:"card animate-in",style:{marginTop:"1.5rem"},children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h3",{className:"card-title",children:[e.jsx(q,{size:16})," Automated Script Export"]}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>S(!1),children:"Close"})]}),e.jsx("p",{className:"script-export-desc",children:"Generate automation code from your Given-When-Then test cases."}),e.jsx("div",{className:"script-framework-selector",children:["playwright","selenium","cypress"].map(s=>e.jsx("button",{className:`framework-btn ${n===s?"active":""}`,onClick:()=>J(s),children:s.charAt(0).toUpperCase()+s.slice(1)},s))}),e.jsxs("div",{className:"script-preview",children:[e.jsxs("div",{className:"script-header",children:[e.jsx("span",{className:"badge badge-accent",children:n}),e.jsx("span",{className:"badge badge-info",children:"TypeScript"})]}),e.jsx("pre",{className:"script-code",children:n==="playwright"?`import { test, expect } from '@playwright/test';

test('Verify CDVR recording from guide', async ({ page }) => {
  await page.goto('/guide');
  await page.click('[data-program-id=future-1]');
  await page.click('#record-btn');
  await expect(page.locator('.recording-icon')).toBeVisible();
  await expect(page.locator('#dvr-list')).toContainText('Future event');
});`:n==="selenium"?`import { Builder, By, until } from 'selenium-webdriver';

describe('CDVR Recording', () => {
  it('should record from program guide', async () => {
    const driver = await new Builder().forBrowser('chrome').build();
    await driver.get('/guide');
    await driver.findElement(By.css('[data-program-id=future-1]')).click();
    await driver.findElement(By.id('record-btn')).click();
    const icon = await driver.findElement(By.css('.recording-icon'));
    expect(await icon.isDisplayed()).toBe(true);
  });
});`:`describe('CDVR Recording', () => {
  it('should record from program guide', () => {
    cy.visit('/guide');
    cy.get('[data-program-id=future-1]').click();
    cy.get('#record-btn').click();
    cy.get('.recording-icon').should('be.visible');
    cy.get('#dvr-list').should('contain', 'Future event');
  });
});`}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem"},children:[e.jsxs("button",{className:"btn btn-sm btn-primary",onClick:()=>r.success(`Downloading all ${n} scripts...`),children:[e.jsx(x,{size:12})," Download All Scripts"]}),e.jsxs("button",{className:"btn btn-sm btn-secondary",onClick:()=>{const s=document.querySelector(".script-code");s&&navigator.clipboard.writeText(s.textContent).then(()=>r.success("Copied to clipboard!")).catch(()=>r.error("Copy failed — please select and copy manually"))},children:[e.jsx(ee,{size:12})," Copy to Clipboard"]})]})]})]})]})}export{ve as default};
